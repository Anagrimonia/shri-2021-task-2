!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r=e();for(var n in r)("object"==typeof exports?exports:t)[n]=r[n]}}(this,(function(){return(()=>{"use strict";var t={319:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r,n,a){if(Number(String(t).length)>2&&(t%=100),11==t||12==t||13==t||14==t)return e+a;switch(t%10){case 1:return e+r;case 2:case 3:case 4:return e+n;case 5:case 6:case 7:case 8:case 9:case 0:return e+a}return""}},341:function(t,e,r){var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var a in e=arguments[r])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},a=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,a,i=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(t){a={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(a)throw a.error}}return o},o=this&&this.__spreadArray||function(t,e){for(var r=0,n=e.length,a=t.length;r<n;r++,a++)t[a]=e[r];return t},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=u(r(319));t.exports={prepareData:function(t,e){var r,u,l,f,c,m,d,v,p=e.sprintId,h={Comment:[],Commit:[],Sprint:[]},y={Summary:new Map,User:new Map},g=void 0,b=void 0,x=new Map,S=new Map;try{for(var w=a(t),_=w.next();!_.done;_=w.next())for(var C=[_.value];C.length;){var j=C.shift();if(j){switch(j.type){case"Comment":h.Comment.push(j);break;case"Commit":h.Commit.push(j);break;case"Sprint":h.Sprint.push(j);break;case"Summary":y.Summary.set(j.id,j);break;case"User":y.User.set(j.id,j)}var A=void 0;for(A in j)null!==j[A]&&"object"==typeof j[A]&&C.push(j[A])}}}catch(t){r={error:t}}finally{try{_&&!_.done&&(u=w.return)&&u.call(w)}finally{if(r)throw r.error}}h.Sprint.sort((function(t,e){return t.startAt-e.startAt})),h.Commit.sort((function(t,e){return t.timestamp-e.timestamp})),h.Comment.sort((function(t,e){return t.createdAt-e.createdAt}));var M=0,T=0,O=h.Commit[M++],k=h.Comment[T++];try{for(var U=a(h.Sprint),D=U.next();!D.done;D=U.next()){var P=D.value;for(P.id===p-1&&(b=P),P.id===p&&(g=P),S.get(P.id)||S.set(P.id,[]),x.get(P.id)||x.set(P.id,[]);O&&O.timestamp<P.startAt;)O=h.Commit[M++];for(;O&&O.timestamp<=P.finishAt;)x.get(P.id).push(O),O=h.Commit[M++];for(;k&&k.createdAt<P.startAt;)k=h.Comment[T++];for(;k&&k.createdAt<=P.finishAt;)S.get(P.id).push(k),k=h.Comment[T++]}}catch(t){l={error:t}}finally{try{D&&!D.done&&(f=U.return)&&f.call(U)}finally{if(l)throw l.error}}var E=g&&(null==x?void 0:x.get(g.id))||[],H=g&&(null==S?void 0:S.get(g.id))||[],I=new Map;try{for(var N=a(E),q=N.next();!q.done;q=N.next()){var z=q.value.author,B=void 0;B="number"==typeof z?z:z.id,I.set(B,(I.get(B)||0)+1)}}catch(t){c={error:t}}finally{try{q&&!q.done&&(m=N.return)&&m.call(N)}finally{if(c)throw c.error}}var F=new Map;try{for(var G=a(H),J=G.next();!J.done;J=G.next()){var K=J.value,L=(z=K.author,K.likes);B=void 0,B="number"==typeof z?z:z.id,F.set(B,(F.get(B)||0)+L.length)}}catch(t){d={error:t}}finally{try{J&&!J.done&&(v=G.return)&&v.call(G)}finally{if(d)throw d.error}}var Q={title:"–ë–æ–ª—å—à–µ –≤—Å–µ–≥–æ –∫–æ–º–º–∏—Ç–æ–≤",subtitle:g?g.name:"",emoji:"üëë",users:o([],i(I)).sort((function(t,e){return e[1]-t[1]||t[0]-e[0]})).map((function(t){var e=i(t,2),r=e[0],n=e[1],a=y.User.get(r);return{id:r,name:a?a.name:"",avatar:a?a.avatar:"",valueText:String(n)}}))},R={title:"–°–∞–º—ã–π üîé –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫",subtitle:g?g.name:"",emoji:"üîé",users:o([],i(F)).sort((function(t,e){return e[1]-t[1]||t[0]-e[0]})).map((function(t){var e=i(t,2),r=e[0],n=e[1],a=y.User.get(r);return{id:r,name:a?a.name:"",avatar:a?a.avatar:"",valueText:n+" "+s.default(n,"–≥–æ–ª–æ—Å","","–∞","–æ–≤")}}))},V={title:"–ö–æ–º–º–∏—Ç—ã",subtitle:g?g.name:"",values:o([],i(x)).map((function(t,e){var r=i(t,2),a=r[0],o=r[1],u=h.Sprint[e];return n({title:String(a),hint:u?u.name:"",value:o.length},u&&u.id===p&&{active:!0})})),users:Q.users},W=b&&(null==x?void 0:x.get(b.id))||[],X=g&&b?E.length-W.length:0;return[{alias:"leaders",data:Q},{alias:"vote",data:R},{alias:"chart",data:V},{alias:"diagram",data:{title:"–†–∞–∑–º–µ—Ä –∫–æ–º–º–∏—Ç–æ–≤",subtitle:g?g.name:"",totalText:g?String(E.length)+" "+s.default(E.length,"–∫–æ–º–º–∏—Ç","","–∞","–æ–≤"):"",differenceText:(X>0?"+":"")+String(X)+" —Å –ø—Ä–æ—à–ª–æ–≥–æ —Å–ø—Ä–∏–Ω—Ç–∞",categories:function(){for(var t=function(t){var e=[0,0,0,0];return t.map((function(t){var r=t.summaries,n=0;r.map((function(t){var e;e="number"==typeof t?y.Summary.get(t):t,n+=e?e.added+e.removed:0})),e[function(t){return t>500?t>1e3?0:1:t>100?2:3}(n)]+=1})),e},e=t(E),r=t(W),n=["> 1001 —Å—Ç—Ä–æ–∫–∏","501 ‚Äî 1000 —Å—Ç—Ä–æ–∫","101 ‚Äî 500 —Å—Ç—Ä–æ–∫","1 ‚Äî 100 —Å—Ç—Ä–æ–∫"],a=[],i=0;i<4;i++){var o=e[i]||0,u=r[i]||0;a.push({title:n[i],valueText:String(o)+" "+s.default(o,"–∫–æ–º–º–∏—Ç","","–∞","–æ–≤"),differenceText:(o-u>0?"+":"")+String(o-u)+" "+s.default(Math.abs(o-u),"–∫–æ–º–º–∏—Ç","","–∞","–æ–≤")})}return a}()}},{alias:"activity",data:{title:"–ö–æ–º–º–∏—Ç—ã",subtitle:g?g.name:"",data:function(){for(var t,e=[[],[],[],[],[],[],[]],r=0;r<7;r++)for(var n=0;n<24;n++)null===(t=e[r])||void 0===t||t.push(0);return E.map((function(t,r){var n=t.timestamp,a=new Date(n);e[a.getDay()][a.getHours()]+=1})),{sun:e[0],mon:e[1],tue:e[2],wed:e[3],thu:e[4],fri:e[5],sat:e[6]}}()}}]}}}},e={};return function r(n){var a=e[n];if(void 0!==a)return a.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,r),i.exports}(341)})()}));